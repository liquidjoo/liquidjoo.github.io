---
title: 서비스에 스프링 클라우드 (MSA) 적용 후기
date: "2019-02-24T21:27:00.121Z"
layout: post
draft: false
path: "/posts/review-spring-cloud/"
category: "Dev"
description: "용어들 정리"
---

#### 운영 중인 서비스에 spring cloud 적용기
현재 spring boot 버전 1.4로 운영중인 서비스가 있는데 QA를 진행하고 추가적인 개발, 배포(jar파일을 업로드 재시작 시에 서비스 이용 불가)를 할 때마다 불편함을 느끼고 있었는데 netflix 관련하여 T아카데이 세미나를 듣고 온 후에 독립적으로 서비스 될 수 있는 부분들을 찾아서 분리를 시작했다.

#### 현재 문제 점
- 현 프로젝트는 멀티 프로젝트로 하나의 마스터 아래에 여러 모듈(프로젝트)이 존재
- 클라우드를 사용하기엔 spring boot의 낮은 버전

- 각 모듈간의 의존성이 너무 큼

- deploy시 전체 서비스 이용 불가

- 기능이 추가 및 수정할 때마다 전체 deploy

- ..etc

#### 일단 하나씩..
- 4개의 서브 모듈이 존재하는데 의존성이 너무 커서 model 부터 다시 분리 (JPA 사용) mybatis를 사용안하고 있어서 정말 다행이라고..생각

- db 분리는 천천히.. (세미나에서 db 분리가 꽃..이라고 Hellgate Open)


#### 고군분투
- 우선 서비스 되고 있는 전체 로직을 파악 (적고, 흐름 그리고..)

- 새로운 프로젝트로 생성 (기존 서비스에서 부분적으로 변경)

- 프론트가 필요한 api 작업은 협업..

- 다른 개발 및 QA도 있기에 시간을 쪼개고, 일과 시간 외에 투자!!


#### 시작
- spring boot 2.1 버전 UP!!

- 우선 첫 개발 구성은 애플리케이션에선 hystrix, ribbon, eureka-client, Feign을 사용, Eureka-Server, Zuul Server를 통해 로드밸런싱, 라우팅, 보안, 등의 처리를 할 예정

- MSA로 개발 (hystrix로 인해 각 함수별 설정값이 필요..)

- 현재 애플리케이션의 모든 통신은 API 통신
```
출처 - 
```